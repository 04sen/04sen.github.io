<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home - Brand</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
    <link rel="stylesheet" href="assets/css/bss-overrides.css">
    <link rel="stylesheet" href="assets/css/baguetteBox.min.css">
    <link rel="stylesheet" href="assets/css/Google-Map-Full-Wide.css">
    <link rel="stylesheet" href="assets/css/Ludens---Custom-Code-Google-Map-just-the-iframe.css">
    <link rel="stylesheet" href="assets/css/Responsive-Youtube-Embed.css">
</head>

<body>
    <nav class="navbar navbar-expand-md sticky-top bg-body shadow-sm py-md-3">
    <div class="container"><a class="navbar-brand" href="index.html"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-components fs-4 me-2">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M3 12l3 3l3 -3l-3 -3z"></path>
                    <path d="M15 12l3 3l3 -3l-3 -3z"></path>
                    <path d="M9 6l3 3l3 -3l-3 -3z"></path>
                    <path d="M9 18l3 3l3 -3l-3 -3z"></path>
                </svg>Travel Japan</a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="book.html">Book</a></li>
                    <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="contacts.html">Contact Us</a></li>
                    <li class="nav-item dropdown"><a class="dropdown-toggle nav-link" aria-expanded="false" data-bs-toggle="dropdown" href="#">Articles</a>
                        <div class="dropdown-menu"><a class="dropdown-item" href="articles/article-1.html">Shinto Shrines</a><a class="dropdown-item" href="articles/article-2.html">Spring in Kyoto</a><a class="dropdown-item" href="articles/article-3.html">Tokyo Night</a><a class="dropdown-item" href="articles/article-4.html">Shinjuku</a></div>
                    </li>
                </ul><a class="btn btn-primary" role="button" href="book.html">Buy the Book</a>
            </div>
        </div>
    </nav>
    <section class="text-center py-5">
        <div class="container">
            <div class="mb-5">
                <div class="mb-3">
                    <p class="m-0"></p>
                    <hr>
                </div>
                <h1>Journey Across Japan</h1>
                <!-- Site Search: prominent search bar -->
                <div class="mt-4">
                    <div class="row justify-content-center">
                        <div class="col-12 col-md-10 col-lg-8">
                            <form class="d-flex gap-2" role="search" onsubmit="return false;">
                                <input id="site-search-input" class="form-control form-control-lg" type="search" placeholder="Search articles, book, privacy, contact..." aria-label="Search" autocomplete="off">
                                <button id="site-search-clear" class="btn btn-outline-secondary" type="button" title="Clear" aria-label="Clear">Clear</button>
                            </form>
                            <div id="site-search-results" class="text-start mt-3" aria-live="polite">
                                <!-- results injected here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="carousel slide" data-bs-ride="carousel" id="carousel-1" style="height: 600px;">
                <div class="carousel-inner h-100">
                    <div class="carousel-item active h-100 mb-0"><img class="object-fit-cover w-100 d-block position-absolute h-100" src="assets/img/articles/header.webp" alt="Slide Image" style="z-index: -1;"></div>
                    <div class="carousel-item h-100"><img class="object-fit-cover w-100 d-block position-absolute h-100" alt="Slide Image" src="assets/img/articles/kyoto.webp" style="z-index: -1;"></div>
                    <div class="carousel-item h-100"><img class="object-fit-cover w-100 d-block position-absolute h-100" alt="Slide Image" src="assets/img/articles/shinjuku.webp" style="z-index: -1;"></div>
                    <div class="carousel-item h-100"><img class="object-fit-cover w-100 d-block position-absolute h-100" alt="Slide Image" src="assets/img/articles/tokyo.webp" style="z-index: -1;"></div>
                </div>
                <div><a class="carousel-control-prev" href="#carousel-1" role="button" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span><span class="visually-hidden">Previous</span></a><a class="carousel-control-next" href="#carousel-1" role="button" data-bs-slide="next"><span class="carousel-control-next-icon"></span><span class="visually-hidden">Next</span></a></div>
                <div class="carousel-indicators"><button type="button" data-bs-target="#carousel-1" data-bs-slide-to="0" class="active"></button> <button type="button" data-bs-target="#carousel-1" data-bs-slide-to="1"></button> <button type="button" data-bs-target="#carousel-1" data-bs-slide-to="2"></button> <button type="button" data-bs-target="#carousel-1" data-bs-slide-to="3"></button></div>
            </div>
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <p class="lead"><br>Discover the majestic beauty of Japan, from the snow-capped peak of Mount Fuji to the hidden serenity of ancient temples. Start your unforgettable journey now.<br><br></p>
                </div>
            </div>
        </div>
    </section>
    <section class="text-center py-5">
        <div class="container">
            <div class="mb-5">
                <h2>Latest Posts</h2>
                <hr>
            </div>
            <div class="text-start" data-bss-type="blog-loop">
                <div class="row gy-4 row-cols-1 row-cols-md-2 row-cols-lg-3" data-bss-type="blog-loop-base">
                    <div class="col" data-bss-type="blog-loop-item">
                        <div class="card border-0"><a href="articles/article-1.html"><img alt="Shinto Shrines" class="card-img-top" src="assets/img/articles/shinto.webp"></a>
                            <div class="card-body px-0"><a class="text-decoration-none" href="articles/article-1.html">
                                    <h4 class="fs-5 fw-bold text-body">The Hidden Beauty of Shinto Shrines</h4>
                                </a>
                                <p class="card-text">Beyond the tourist trails, find peace and ancient tradition in Japan's countless Shinto shrines. Learn about the rituals, the architecture, and the serene gardens that make these sacred places a must-see for any traveler.</p><small><time class="fw-bold" datetime="2024-10-02">Oct 2, 2024</time></small>
                            </div>
                        </div>
                    </div>
                    <div class="col" data-bss-type="blog-loop-item">
                        <div class="card border-0"><a href="articles/article-2.html"><img alt="Kyoto" class="card-img-top" src="assets/img/articles/kyoto.webp"></a>
                            <div class="card-body px-0"><a class="text-decoration-none" href="articles/article-2.html">
                                    <h4 class="fs-5 fw-bold text-body">Spring in Kyoto</h4>
                                </a>
                                <p class="card-text">Experience the magic of the cherry blossom season in Kyoto. From the Philosopher's Path to the Kiyomizu-dera Temple, we guide you through the best spots to see the famous sakura and enjoy this fleeting spectacle.</p><small><time class="fw-bold" datetime="2024-09-28">Sep 28, 2024</time></small>
                            </div>
                        </div>
                    </div>
                    <div class="col" data-bss-type="blog-loop-item">
                        <div class="card border-0"><a href="articles/article-3.html"><img alt="Tokyo" class="card-img-top" src="assets/img/articles/tokyo.webp"></a>
                            <div class="card-body px-0"><a class="text-decoration-none" href="articles/article-3.html">
                                    <h4 class="fs-5 fw-bold text-body">Getting Lost in Tokyo at Night</h4>
                                </a>
                                <p class="card-text">Dive into the dazzling neon jungle of Tokyo after dark. We explore the vibrant nightlife, the best izakayas (Japanese pubs), and the unique atmosphere of districts like Shinjuku, Shibuya, and Ginza.</p><small><time class="fw-bold" datetime="2024-09-23">Sep 23, 2024</time></small>
                            </div>
                        </div>
                    </div>
                    <div class="col" data-bss-type="blog-loop-item">
                        <div class="card border-0"><a href="articles/article-4.html"><img alt="Shinjuku" class="card-img-top" src="assets/img/articles/shinjuku.webp"></a>
                            <div class="card-body px-0"><a class="text-decoration-none" href="articles/article-4.html">
                                    <h4 class="fs-5 fw-bold text-body">Visiting Shinjuku</h4>
                                </a>
                                <p class="card-text">Shinjuku is a city within a city! Discover its soaring skyscrapers, massive train station, lively street food, and the charming, retro Golden Gai district. Here's your complete guide to navigating this iconic Tokyo hub.</p><small><time class="fw-bold" datetime="2024-09-18">Sep 18, 2024</time></small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="mb-5 py-4 py-xl-5">
        <div class="container">
            <div class="bg-body-tertiary border rounded border-0 overflow-hidden">
                <div class="row g-0">
                    <div class="col">
                        <div class="text-center p-4 p-md-5">
                            <h2 class="fw-bold mb-3">Watch Our Latest Travel Video</h2>
                            <div class="video-container"><iframe allowfullscreen="" frameborder="0" src="https://www.youtube.com/embed/NQ6_Sqt_w3Y?loop=1&amp;playlist=NQ6_Sqt_w3Y" width="853" height="480"></iframe></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section class="mb-5 py-4 py-xl-5">
            <div class="container">
                <div class="bg-body-tertiary border rounded border-0 overflow-hidden">
                    <div class="row g-0">
                        <div class="col-md-5 d-flex justify-content-center align-items-center" style="min-height: 250px;max-height: 300px;overflow: hidden;"><img class="img-fluid fit-cover" src="assets/img/book-3.webp"></div>
                        <div class="col">
                            <div class="text-center p-4 p-md-5"><small class="fw-bold text-secondary d-block mb-2">Now Available</small>
                                <h2 class="fw-bold mb-3">Beauty of Japan</h2>
                                <p class="lead fst-italic text-muted mb-4">Picture Book</p>
                                <div class="my-3"><a class="btn btn-primary me-2 px-4 py-2" role="button" href="book.html">Get the Book</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </section>
    <footer class="text-center bg-body-tertiary">
        <div class="container py-4 py-lg-5">
            <h1 class="fs-4 text-body mb-4"> <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icon-tabler-components fs-4 text-body me-2">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                    <path d="M3 12l3 3l3 -3l-3 -3z"></path>
                    <path d="M15 12l3 3l3 -3l-3 -3z"></path>
                    <path d="M9 6l3 3l3 -3l-3 -3z"></path>
                    <path d="M9 18l3 3l3 -3l-3 -3z"></path>
                </svg>Travel Japan</h1>
            <ul class="list-inline">
                <li class="list-inline-item me-3"><a class="link-body-emphasis" href="index.html">Blog</a></li>
                <li class="list-inline-item me-3"><a class="link-body-emphasis" href="book.html">Book</a></li>
                <li class="list-inline-item me-3"><a class="link-body-emphasis" href="about.html">About</a></li>
                <li class="list-inline-item me-3"><a class="link-body-emphasis" href="privacy.html">Privacy</a></li>
                <li class="list-inline-item"><a class="link-body-emphasis" href="contacts.html">Contact</a></li>
            </ul>
            <p class="text-muted mb-3">Copyright © 2025 Brand</p>
            <ul class="list-inline">
                <li class="list-inline-item"><a class="link-body-emphasis" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-twitter-x">
                            <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633Z"></path>
                        </svg></a></li>
                <li class="list-inline-item"><a class="link-body-emphasis" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-instagram">
                            <path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"></path>
                        </svg></a></li>
                <li class="list-inline-item"><a class="link-body-emphasis" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 16 16" class="bi bi-facebook">
                            <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"></path>
                        </svg></a></li>
            </ul>
        </div>
    </footer>
    <script>
        (function() {
            let collections = document.querySelectorAll('[data-bss-type="blog-loop"]');
            let tagNavs = document.querySelectorAll('[data-bss-type="tag-nav"]');
            let tagLoops = document.querySelectorAll('[data-bss-type="tag-loop"]');
            let authorLoops = document.querySelectorAll('[data-bss-type="author-loop"]');
            let authorNavs = document.querySelectorAll('[data-bss-type="author-nav"]');

            window.addEventListener("popstate", (e) => {
                for (let collection of collections) {
                    updateCollection(collection);
                }

                for (let tagNav of tagNavs) {
                    updateTagNav(tagNav);
                }

                for (let authorNav of authorNavs) {
                    updateAuthorNav(authorNav);
                }
            });

            for (let collection of collections) {

                updateCollection(collection);

                if (!canPaginateCollection(collection)) continue;

                let pagination = collection.querySelector('[data-bss-type="blog-loop-pagination"]');

                pagination.addEventListener('click', function(e) {
                    let paginationItem = e.target.closest('.page-item');
                    if (!paginationItem) return;

                    e.preventDefault();

                    if (paginationItem.classList.contains('disabled') || paginationItem.classList.contains('active')) return;

                    let collection = paginationItem.closest('[data-bss-type="blog-loop"]');
                    if (!collection) return;

                    let page = parseInt(paginationItem.dataset.page);
                    if (!page) return;

                    let pageParam = getPageParameter(collection);

                    if (pageParam) {
                        const url = new URL(window.location);
                        url.searchParams.set(pageParam, page);
                        history.pushState({
                            [pageParam]: page
                        }, document.title, url);

                        for (let c of collections) {
                            let param = getPageParameter(c);
                            if (param !== pageParam) continue;
                            updateCollection(c);
                        }
                    } else {
                        updateCollection(collection, page);
                    }
                });
            }

            for (let tagNav of tagNavs) {
                updateTagNav(tagNav);
                tagNav.addEventListener('click', onTagClick);
            }

            for (let tagLoop of tagLoops) {
                tagLoop.addEventListener('click', onTagClick);
            }

            for (let authorLoop of authorLoops) {
                authorLoop.addEventListener('click', onAuthorClick);
            }

            for (let authorNav of authorNavs) {
                updateAuthorNav(authorNav);
            }

            function onTagClick(e) {
                onBlogFilterClick(e);

                for (let nav of tagNavs) {
                    updateTagNav(nav);
                }
            }

            function onAuthorClick(e) {
                onBlogFilterClick(e);

                for (let authorNav of authorNavs) {
                    updateAuthorNav(authorNav);
                }
            }

            function onBlogFilterClick(e) {
                const item = e.target.closest('[data-bss-filter="blog"]');
                if (!item || !item.dataset.hasOwnProperty('bssHref') || !item.dataset.hasOwnProperty('bssFilterParam')) return;

                const stateNode = item.dataset.hasOwnProperty('bssStateNode') ? item : item.querySelector('[data-bss-state-node]');

                if (stateNode && (stateNode.classList.contains('disabled') || stateNode.classList.contains('active'))) {
                    e.preventDefault();
                    return;
                }

                const link = item.dataset.bssHref;
                if (!linksToCurrentPage(link)) return;

                e.preventDefault();

                const url = new URL(window.location);
                const filterParam = item.dataset.bssFilterParam;
                const filterValue = item.dataset.bssFilterValue || '';

                const collectionsToUpdate = [];
                const newQueryParams = {
                    [filterParam]: filterValue
                };

                for (let c of collections) {
                    if (!canFilterCollection(c)) continue;
                    collectionsToUpdate.push(c);

                    let pageParam = getPageParameter(c);
                    let page = url.searchParams.get(pageParam);
                    if (page === null || page == 1) continue;

                    newQueryParams[pageParam] = 1;
                }

                for (let param in newQueryParams) {
                    if (newQueryParams[param]) {
                        url.searchParams.set(param, newQueryParams[param]);
                    } else {
                        url.searchParams.delete(param);
                    }
                }

                history.pushState(newQueryParams, document.title, url);

                for (let c of collectionsToUpdate) {
                    updateCollection(c);
                }
            }

            function getCollectionFilters(collection) {
                let filters = [];

                try {
                    const parsed = JSON.parse(collection.dataset.bssFilters);

                    if (Array.isArray(parsed)) {
                        filters = parsed;
                    }
                } catch (e) {}

                return filters;
            }

            function getCollectionEmptyFilterAction(collection, filter = '') {
                let emptyFilterActions = [];

                try {
                    const parsed = JSON.parse(collection.dataset.bssEmptyFilterActions);

                    if (Array.isArray(parsed)) {
                        emptyFilterActions = parsed;
                    }
                } catch (e) {}

                const action = emptyFilterActions.find(action => action.filter === filter);

                return action ? action.value : '';
            }

            function canFilterCollection(collection) {
                return !!getCollectionFilters(collection).length;
            }

            function canFilterCollectionByTag(collection) {
                return getCollectionFilters(collection).includes('tag');
            }

            function canFilterCollectionByAuthor(collection) {
                return getCollectionFilters(collection).includes('author');
            }

            function shouldShowAllItemsForEmptyFilter(collection, filter = '') {
                return getCollectionEmptyFilterAction(collection, filter) === 'show-all';
            }

            function canPaginateCollection(collection) {
                return !!getCollectionPagination(collection);
            }

            function getCollectionPagination(collection) {
                return collection.querySelector('[data-bss-type="blog-loop-pagination"]');
            }

            function getPageParameter(collection) {
                return collection.dataset.bssPageParam;
            }

            function linksToCurrentPage(path = '') {
                let currentURL, url;

                try {
                    currentURL = new URL(window.location);
                    url = new URL(path, window.location.href);
                } catch (e) {
                    console.error(e);
                }

                return currentURL.origin === url.origin && currentURL.pathname === url.pathname;
            }

            function updateCollection(collection, page, activeTag = '', activeAuthor = '') {

                const url = new URL(window.location.href);

                if (canPaginateCollection(collection)) {
                    if (!page) {
                        let pageParam = getPageParameter(collection);
                        page = (pageParam ? url.searchParams.get(pageParam) : 1) || 1;
                    }
                }

                if (canFilterCollectionByTag(collection) && !activeTag) {
                    let tagParam = 'tag';
                    activeTag = url.searchParams.get(tagParam) || '';
                }

                if (canFilterCollectionByAuthor(collection) && !activeAuthor) {
                    let authorParam = 'author';
                    activeAuthor = url.searchParams.get(authorParam) || '';
                }

                renderCollectionPage(collection, page, activeTag, activeAuthor);
            }

            function renderCollectionPage(collection, page = 1, activeTag = '', activeAuthor = '') {

                page = Math.max(parseInt(page, 10), 1);

                collection.style.removeProperty('display');

                let loopBase = collection.querySelector('[data-bss-type="blog-loop-base"]');
                loopBase && loopBase.style.removeProperty('display');

                let emptyState = collection.querySelector('[data-bss-type="empty-state"]');
                emptyState && emptyState.style.setProperty('display', 'none', 'important');

                let listItems = [].slice.call(collection.querySelectorAll('[data-bss-type="blog-loop-item"]'));
                listItems.forEach(item => item.style.setProperty('display', 'none', 'important'));

                if (canFilterCollectionByTag(collection)) {
                    listItems = listItems.filter(item => activeTag ? item.classList.contains('post-tag-' + activeTag) : shouldShowAllItemsForEmptyFilter(collection, 'tag'));
                }

                if (canFilterCollectionByAuthor(collection)) {
                    listItems = listItems.filter(item => activeAuthor ? item.classList.contains('post-author-' + activeAuthor) : shouldShowAllItemsForEmptyFilter(collection, 'author'));
                }

                let perPage = collection.dataset.bssPerpage || listItems.length;
                let visibleListItems = listItems.slice((page - 1) * perPage, page * perPage);
                visibleListItems.forEach(item => item.style.removeProperty('display'));

                let isEmpty = !visibleListItems.length;

                if (isEmpty) {
                    loopBase && loopBase.style.setProperty('display', 'none', 'important');
                    emptyState && emptyState.style.removeProperty('display');
                }

                let itemCount = listItems.length;
                let pageCount = Math.max(Math.ceil(itemCount / perPage), 1);

                updateCollectionPagination(collection, page, pageCount, isEmpty);

                if (collection.dataset.bssScrollOnChange) {
                    scrollToCollectionTop(collection);
                }
            }

            function updateCollectionPagination(collection, page, pageCount, isEmpty) {
                let pagination = getCollectionPagination(collection);
                if (!pagination) return;

                let paginationItems = [].slice.call(pagination.querySelectorAll('.page-item'));

                if (pageCount === 1 || isEmpty) {
                    pagination.style.setProperty('display', 'none', 'important');
                } else {
                    pagination.style.removeProperty('display');
                }

                let previousBtnDisabled = page - 1 <= 0;
                let previousPage = previousBtnDisabled ? 1 : page - 1;

                let nextBtnDisabled = page + 1 > pageCount;
                let nextPage = nextBtnDisabled ? pageCount : page + 1;

                for (let i = 0; i < paginationItems.length; i++) {
                    let paginationItem = paginationItems[i];

                    paginationItem.classList.remove('active', 'disabled');

                    if (paginationItem.dataset.type === 'prev') {
                        paginationItem.dataset.page = previousPage;

                        if (previousBtnDisabled) {
                            paginationItem.classList.add('disabled');
                        }
                    } else if (paginationItem.dataset.type === 'next') {
                        paginationItem.dataset.page = nextPage;

                        if (nextBtnDisabled) {
                            paginationItem.classList.add('disabled');
                        }
                    } else {
                        if (paginationItem.dataset.page > pageCount) {
                            paginationItem.style.setProperty('display', 'none', 'important');
                        } else {
                            paginationItem.style.removeProperty('display');
                        }

                        if (paginationItem.dataset.page == page) {
                            paginationItem.classList.add('active');
                        }
                    }
                }
            }

            function scrollToCollectionTop(collection) {
                const rect = collection.getBoundingClientRect();
                const viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);
                const threshold = 100;

                if (rect.top >= 0 && viewHeight - rect.top > threshold) return;

                setTimeout(() => {
                    collection.scrollIntoView({
                        behavior: "smooth",
                        block: "start",
                        inline: "start"
                    });
                }, 0);
            }

            function updateTagNav(tagNav) {
                const url = new URL(window.location.href);

                let tagParam = 'tag';
                let tag = url.searchParams.get(tagParam) || '';

                renderTagNav(tagNav, tag);
            }

            function renderTagNav(tagNav, activeTag = '') {
                if (!tagNav.dataset.bssSyncUrl) return;

                let navItems = [].slice.call(tagNav.querySelectorAll('[data-bss-type="tag-loop-item"]'));

                navItems.forEach(item => {
                    const activeClassNode = item.dataset.hasOwnProperty('bssStateNode') ? item : item.querySelector('[data-bss-state-node]');
                    if (!activeClassNode) return;

                    activeClassNode.classList.remove('active');

                    const link = item.dataset.bssHref;
                    if (!linksToCurrentPage(link) || activeClassNode.classList.contains('disabled')) return;

                    if (item.dataset.bssTag === activeTag) {
                        activeClassNode.classList.add('active');
                    }
                });
            }

            function updateAuthorNav(authorNav) {
                const url = new URL(window.location.href);

                let authorParam = 'author';
                let author = url.searchParams.get(authorParam) || '';

                renderAuthorNav(authorNav, author);
            }

            function renderAuthorNav(authorNav, activeAuthor = '') {
                if (!canFilterCollectionByAuthor(authorNav)) return;

                authorNav.style.removeProperty('display');

                let items = [].slice.call(authorNav.querySelectorAll('[data-bss-type="author-loop-item"]'));
                items.forEach(item => item.classList.contains('author-' + activeAuthor) ? item.style.removeProperty('display') : item.style.setProperty('display', 'none', 'important'));
            }
        })();
    </script>
    <!-- Search index and logic -->
    <script src="assets/js/search-index.js"></script>
    <script>
        (function(){
            const input = document.getElementById('site-search-input');
            const clearBtn = document.getElementById('site-search-clear');
            const results = document.getElementById('site-search-results');

            if (!input || !results) return;

            const idx = Array.isArray(window.SEARCH_INDEX) ? window.SEARCH_INDEX : [];

            function normalize(str){
                return (str||'').toString().toLowerCase();
            }

            function highlight(text, terms){
                if (!text) return '';
                let out = text;
                terms.forEach(t => {
                    if (!t) return;
                    const esc = t.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                    out = out.replace(new RegExp(`(${esc})`, 'ig'), '<mark>$1</mark>');
                });
                return out;
            }

            function scoreItem(item, terms){
                // Basic scoring: title weight > desc > content
                const t = normalize(item.title);
                const d = normalize(item.description);
                const c = normalize(item.content);
                let score = 0;
                for(const term of terms){
                    if (!term) continue;
                    const inTitle = t.includes(term);
                    const inDesc = d.includes(term);
                    const inContent = c.includes(term);
                    if (inTitle) score += 5;
                    if (inDesc) score += 2;
                    if (inContent) score += 1;
                }
                return score;
            }

            function search(query){
                const q = normalize(query).trim();
                if (!q){
                    results.innerHTML = '';
                    return;
                }

                const terms = q.split(/\s+/).filter(Boolean);
                const matches = idx.map(item => ({ item, score: scoreItem(item, terms) }))
                    .filter(x => x.score > 0)
                    .sort((a,b) => b.score - a.score)
                    .slice(0, 20);

                if (matches.length === 0){
                    results.innerHTML = '<div class="alert alert-light border">No results found.</div>';
                    return;
                }

                const html = matches.map(({item}) => {
                    const title = highlight(item.title, terms);
                    const desc = highlight(item.description || item.content || '', terms);
                    return `
                        <a class="text-decoration-none" href="${item.url}">
                            <div class="card border-0 border-bottom py-3">
                                <div class="card-body px-0">
                                    <h5 class="card-title mb-1">${title}</h5>
                                    <p class="card-text text-muted mb-0">${desc}</p>
                                </div>
                            </div>
                        </a>`;
                }).join('');

                results.innerHTML = html;
            }

            let debounceTimer;
            input.addEventListener('input', () => {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(() => search(input.value), 100);
            });

            input.addEventListener('keydown', (e) => {
                if (e.key === 'Escape'){
                    input.value = '';
                    results.innerHTML = '';
                }
            });

            clearBtn && clearBtn.addEventListener('click', () => {
                input.value = '';
                input.focus();
                results.innerHTML = '';
            });
        })();
    </script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="assets/js/baguetteBox.min.js"></script>
    <script src="assets/js/template.js"></script>
</body>

</html>